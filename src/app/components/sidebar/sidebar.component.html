<aside class="flex h-full border border-slate-800 bg-slate-950/95 text-slate-300 transition-all duration-300"
    [class.w-16]="isCollapsed()" [class.w-48]="!isCollapsed()">

    <div class="flex w-full flex-col">
        <button type="button"
            class="mx-3 mt-2 rounded-lg flex h-12 items-center px-1 text-left font-medium text-slate-100 transition hover:shadow-2xl hover:border-slate-500"
            (click)="toggleCollapse()">
            <img src="images/VibeFlow@0.25x.png" alt="Logo" class="h-8 w-8 object-contain">

            @if (!isCollapsed()) {
            <span class="font-medium ml-2">VibeFlow</span>
            }
        </button>

        <div class="my-2 border-t border-slate-800/80"></div>

        <nav class="flex-1 px-2">
            <ul class="space-y-2">
                @for (item of items(); track item.label) {
                <li>
                    @if (isLeaf(item)) {
                    <a class="group flex h-12 rounded-lg items-center px-3 space-x-2 text-slate-300 transition hover:bg-slate-800/80 hover:text-white [&.active]:text-amber-500
         [&.active]:bg-slate-900/80" [routerLink]="item.route ?? '/'" routerLinkActive="active" title="{{item.label}}">

                        <mtx-icon [icon]="item.icon"></mtx-icon>

                        @if (!isCollapsed()) {
                        <span class="text-sm font-medium">{{ item.label }}</span>
                        }
                    </a>
                    } @else {
                    <div class="flex h-12 rounded-lg items-center px-3 space-x-2 text-slate-500">
                        <mtx-icon [icon]="item.icon"></mtx-icon>

                        @if (!isCollapsed()) {
                        <span class="text-sm font-medium">{{ item.label }}</span>
                        }
                    </div>
                    }
                </li>
                }
            </ul>
        </nav>

        <div class="mt-4 border-t border-slate-800/80"></div>

        <div class="p-2">
            @for (item of bottomItems(); track item.label) {
            <a class="flex h-12 rounded-lg items-center px-3 space-x-2 text-slate-300 transition hover:bg-slate-800/80 hover:text-white [&.active]:text-amber-500
         [&.active]:bg-slate-900/80" [routerLink]="item.route" routerLinkActive="active" title="{{item.label}}">
                <mtx-icon [icon]="item.icon"></mtx-icon>
                @if (!isCollapsed()) {
                <span class="text-sm font-medium">{{ item.label }}</span>
                }
            </a>
            }

        </div>
    </div>
</aside>