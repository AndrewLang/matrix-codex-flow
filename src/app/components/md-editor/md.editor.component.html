<div class="rounded bg-slate-900/70">
    @if(showToolbar()) {
    <div class="mb-2 flex flex-wrap items-center justify-between gap-2">
        <div class="flex flex-wrap items-center gap-1.5">
            @for (markdownTool of markdownTools; track markdownTool.label) {
            <button type="button"
                class="rounded bg-slate-800 px-2 py-1 text-xs text-slate-200 transition hover:bg-slate-700"
                [attr.aria-label]="markdownTool.label" (click)="insertSnippet(markdownTool.snippet)">
                <mtx-icon [icon]="markdownTool.icon"></mtx-icon>
            </button>
            }
        </div>

        <button type="button"
            class="rounded bg-slate-800 px-2 py-1 text-xs text-slate-200 transition hover:bg-slate-700"
            (click)="togglePreviewMode()">
            {{ isPreviewMode() ? 'Write' : 'Preview' }}
        </button>
    </div>
    }

    @if (!isPreviewMode()) {
    <textarea #contentInput
        class="min-h-28 w-full resize-y rounded bg-slate-950/70 px-3 py-2 text-sm leading-6 text-slate-200 outline-none placeholder:text-slate-500"
        [value]="contentState()" [placeholder]="placeholder()" (input)="updateContent(contentInput.value)" rows="12">
    </textarea>
    } @else {
    <div class="min-h-28 rounded bg-slate-950/70 px-3 py-2 text-sm leading-6 text-slate-200"
        [innerHTML]="previewHtml()"></div>
    }
</div>